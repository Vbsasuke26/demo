"use strict";(self.webpackChunkob_app=self.webpackChunkob_app||[]).push([[1395],{86950:(t,r,n)=>{n.d(r,{EX:()=>y,Y3:()=>g,_Y:()=>S,sJ:()=>x,xr:()=>b});var e=n(51995);n(90045),n(67077);function o(t){return"h"in t&&"s"in t&&"v"in t}function i(t){return"l"in t&&"a"in t&&"b"in t}function s(t){return"l"in t&&"c"in t&&"h"in t}const a=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],c=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function l(t,r){const n=[];let e,o;if(t[0].length!==r.length)throw new Error("dimensions do not match");const i=t.length,s=t[0].length;let a=0;for(e=0;e<i;e++){for(a=0,o=0;o<s;o++)a+=t[e][o]*r[o];n.push(a)}return n}function u(t){const r=[t.r/255,t.g/255,t.b/255].map((t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4)),n=l(a,r);return{x:100*n[0],y:100*n[1],z:100*n[2]}}function f(t){const r=l(c,[t.x/100,t.y/100,t.z/100]).map((t=>{const r=t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055;return Math.min(1,Math.max(r,0))}));return{r:Math.round(255*r[0]),g:Math.round(255*r[1]),b:Math.round(255*r[2])}}function m(t){const r=[t.x/95.047,t.y/100,t.z/108.883].map((t=>t>(6/29)**3?t**(1/3):1/3*(29/6)**2*t+4/29));return{l:116*r[1]-16,a:500*(r[0]-r[1]),b:200*(r[1]-r[2])}}function h(t){const r=t.l,n=[(r+16)/116+t.a/500,(r+16)/116,(r+16)/116-t.b/200].map((t=>t>6/29?t**3:3*(6/29)**2*(t-4/29)));return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function d(t){return function(t){const r=t.l,n=t.a,e=t.b,o=Math.sqrt(n*n+e*e);let i=Math.atan2(e,n);return i=i>0?i:i+2*Math.PI,{l:r,c:o,h:i}}(m(u(t)))}function p(t){return f(h(function(t){const r=t.l,n=t.c,e=t.h;return{l:r,a:n*Math.cos(e),b:n*Math.sin(e)}}(t)))}function b(t){return function(t){return"r"in t&&"g"in t&&"b"in t}(t)?t:s(t)?p(t):i(t)?function(t){return f(h(t))}(t):function(t){return"x"in t&&"y"in t&&"z"in t}(t)?f(t):o(t)?function(t){const r=(t.h+360)%360/60,n=t.s/100,e=t.v/100*255,o=e*n,i=o*(1-Math.abs(r%2-1));let s;switch(Math.floor(r)){case 0:s={r:o,g:i,b:0};break;case 1:s={r:i,g:o,b:0};break;case 2:s={r:0,g:o,b:i};break;case 3:s={r:0,g:i,b:o};break;case 4:s={r:i,g:0,b:o};break;case 5:case 6:s={r:o,g:0,b:i};break;default:s={r:0,g:0,b:0}}return s.r=Math.round(s.r+e-o),s.g=Math.round(s.g+e-o),s.b=Math.round(s.b+e-o),s}(t):t}function S(t){return o(t)?t:function(t){const r=t.r,n=t.g,e=t.b,o=Math.max(r,n,e),i=o-Math.min(r,n,e);let s=o,a=0===i?0:o===r?(n-e)/i%6:o===n?(e-r)/i+2:(r-n)/i+4,c=0===i?0:i/s;return a<0&&(a+=6),a*=60,c*=100,s*=100/255,{h:a,s:c,v:s}}(b(t))}function g(t){return i(t)?t:function(t){return m(u(t))}(b(t))}function x(t){return s(t)?t:d(b(t))}function v(t){let{r:r,g:n,b:o,a:i}=t;return i<1&&(r=Math.round(i*r+255*(1-i)),n=Math.round(i*n+255*(1-i)),o=Math.round(i*o+255*(1-i))),new e.Z({r:r,g:n,b:o})}function y(t,r){const{r:n,g:e,b:o}=null!==r&&void 0!==r&&r.ignoreAlpha?t:v(t);return.2126*n+.7152*e+.0722*o}var k;!function(t){t[t.Low=160]="Low",t[t.High=225]="High"}(k||(k={}))},16461:(t,r,n)=>{n.r(r),n.d(r,{default:()=>b});n(59486);var e=n(42306),o=n(96212),i=n(45502),s=n(17314),a=n(53531),c=n(80394),l=n(21449),u=n(64145),f=n(77960),m=n(43238),h=n(55185),d=n(53866),p=n(585);class b{convertVectorFieldData(t){const r=o.Z.fromJSON(t.pixelBlock),n=(0,u.KC)(r,t.type);return Promise.resolve(null!=n?n.toJSON():null)}computeStatisticsHistograms(t){const r=o.Z.fromJSON(t.pixelBlock),n=(0,l.js)(r);return Promise.resolve(n)}async decode(t){const r=await(0,i.J)(t.data,t.options);return r&&r.toJSON()}symbolize(t){t.pixelBlock=o.Z.fromJSON(t.pixelBlock),t.extent=t.extent?d.Z.fromJSON(t.extent):null;const r=this.symbolizer.symbolize(t);return Promise.resolve(null!=r?r.toJSON():null)}async updateSymbolizer(t){var r;this.symbolizer=m.Z.fromJSON(t.symbolizerJSON),t.histograms&&"rasterStretch"===(null===(r=this.symbolizer)||void 0===r?void 0:r.rendererJSON.type)&&(this.symbolizer.rendererJSON.histograms=t.histograms)}async updateRasterFunction(t){this.rasterFunction=(0,a.Ue)(t.rasterFunctionJSON)}async process(t){var r;const n=this.rasterFunction.process({extent:d.Z.fromJSON(t.extent),primaryPixelBlocks:t.primaryPixelBlocks.map((t=>null!=t?o.Z.fromJSON(t):null)),primaryPixelSizes:null===(r=t.primaryPixelSizes)||void 0===r?void 0:r.map((t=>null!=t?p.Z.fromJSON(t):null)),primaryRasterIds:t.primaryRasterIds});return null!=n?n.toJSON():null}stretch(t){const r=this.symbolizer.simpleStretch(o.Z.fromJSON(t.srcPixelBlock),t.stretchParams);return Promise.resolve(null===r||void 0===r?void 0:r.toJSON())}estimateStatisticsHistograms(t){const r=(0,l.Hv)(o.Z.fromJSON(t.srcPixelBlock));return Promise.resolve(r)}split(t){const r=(0,s.Vl)(o.Z.fromJSON(t.srcPixelBlock),t.tileSize,t.maximumPyramidLevel);return r&&r.forEach(((t,n)=>{r.set(n,null===t||void 0===t?void 0:t.toJSON())})),Promise.resolve(r)}async mosaicAndTransform(t){var r;const n=t.srcPixelBlocks.map((t=>t?new o.Z(t):null)),e=(0,s.us)(n,t.srcMosaicSize,{blockWidths:t.blockWidths,alignmentInfo:t.alignmentInfo,clipOffset:t.clipOffset,clipSize:t.clipSize});let i,a=e;return t.coefs&&(a=(0,s.Uk)(e,t.destDimension,t.coefs,t.sampleSpacing,t.interpolation)),t.projectDirections&&t.gcsGrid&&(i=(0,s.Qh)(t.destDimension,t.gcsGrid),a=(0,u.xQ)(a,t.isUV?"vector-uv":"vector-magdir",i)),{pixelBlock:null===(r=a)||void 0===r?void 0:r.toJSON(),localNorthDirections:i}}async createFlowMesh(t,r){const n={data:new Float32Array(t.flowData.buffer),mask:new Uint8Array(t.flowData.maskBuffer),width:t.flowData.width,height:t.flowData.height},{vertexData:e,indexData:o}=await(0,h.GE)(t.meshType,t.simulationSettings,n,r.signal);return{result:{vertexBuffer:e.buffer,indexBuffer:o.buffer},transferList:[e.buffer,o.buffer]}}async getProjectionOffsetGrid(t){const r=d.Z.fromJSON(t.projectedExtent),n=d.Z.fromJSON(t.srcBufferExtent);let o=null;t.datumTransformationSteps&&(o=new e.Z({steps:t.datumTransformationSteps})),(t.includeGCSGrid||(0,c.Mk)(r.spatialReference,n.spatialReference,o))&&await(0,c.zD)();const i=t.rasterTransform?(0,f.c)(t.rasterTransform):null;return(0,c.Qp)({...t,projectedExtent:r,srcBufferExtent:n,datumTransformation:o,rasterTransform:i})}}}}]);
//# sourceMappingURL=1395.3d1a7684.chunk.js.map